<div class="content__title">
    <!-- <h1>
        Dashboard
        <small class="text-sm hidden-xs">Welcome !</small>
    </h1> -->

    <div class="text-center">
        <!-- <nz-input-group nzSearch nzSize="large" [nzSuffix]="suffixButton" style="width: 520px;">
            <input type="text" nz-input placeholder="请输入">
            <ng-template #suffixButton>
                <button nz-button nzType="primary" nzSize="large" nzSearch>Search</button>
            </ng-template>
        </nz-input-group> -->

        <input type="text" nz-input placeholder="请输入" [(ngModel)]="model" (keyup)="search()">


    </div>
</div>

<div nz-row nzGutter="16">

    <div nz-col nzXs="24" nzMd="24">
        <nz-card [nzBordered]="false">
            <ng-template #title>
                客户信息
                
            </ng-template>

            <div class="mb-md">
                <button nz-button (click)="add_car_message()" [nzType]="'primary'" [nzSize]="'large'">
                    <i class="anticon anticon-plus"></i><span>新建</span>
                </button>
            </div>

            <nz-table #nzTable [nzAjaxData]="data_car" [nzTotal]="total_car" [nzPageSize]="q_car.page_size" [nzLoading]="loading"
            (nzPageIndexChange)="pageChange_car_message($event)">
                <thead nz-thead>
                    <tr>
                        
                        <th nz-th>
                            <span>车主名称</span>
                            <nz-table-sort [(nzValue)]="sortMap_car.owner_name" (nzValueChange)="sort_car_message('owner_name',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>VIN码</span>
                            <nz-table-sort [(nzValue)]="sortMap_car.vin" (nzValueChange)="sort_car_message('vin',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>车牌号</span>
                            <nz-table-sort [(nzValue)]="sortMap_car.plate_num" (nzValueChange)="sort_car_message('plate_num',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>发动机号</span>
                            <nz-table-sort [(nzValue)]="sortMap_car.engine_num" (nzValueChange)="sort_car_message('engine_num',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>品牌名称</span>
                            <nz-table-sort [(nzValue)]="sortMap_car.car_brand" (nzValueChange)="sort_car_message('car_brand',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>车系名称</span>
                            <nz-table-sort [(nzValue)]="sortMap_car.car_series" (nzValueChange)="sort_car_message('car_series',$event)"></nz-table-sort>
                        </th>
                        <!-- <th nz-th><span>操作</span></th> -->
                    
                        
                    </tr>
                </thead>
                <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let i of nzTable.data" (click)="clickOnRow(i)">
                        
                        <td nz-td>{{i.owner_name}}</td>
                        <td nz-td>{{i.vin}}</td>
                        <td nz-td>{{i.plate_num}}</td>
                        <td nz-td>{{i.engine_num}}</td>
                        <td nz-td>{{i.car_brand}}</td>
                        <td nz-td>{{i.car_series}}</td>
                        <!-- <td nz-td>
                            <a (click)="update(i.id)">修改</a>
                            <span nz-table-divider></span>
                            <a (click)="remove(i)">删除</a>
                        </td> -->
                    </tr>
                </tbody>
            </nz-table>

        </nz-card>
    </div>

    <div nz-col nzXs="24" nzMd="24">
        <nz-card [nzBordered]="false">
            <ng-template #title>
                维修及保养信息
                <small class="text-sm font-weight-normal">{{ sub_title }}</small>
            </ng-template>

            <div class="mb-md">
                <button nz-button (click)="add_repair_info()" [nzType]="'primary'" [nzSize]="'large'">
                    <i class="anticon anticon-plus"></i><span>开单</span>
                </button>
            </div>

            <nz-table #nzTable2 [nzAjaxData]="data_repair" [nzTotal]="total_repair" [nzPageSize]="q_repair.page_size" [nzLoading]="loading"
            (nzPageIndexChange)="pageChange_repair_info($event)">
                <thead nz-thead>
                    <tr>
                        <th nz-th>
                            <span>维修单号</span>
                            <nz-table-sort [(nzValue)]="sortMap_repair.no" (nzValueChange)="sort_repair_info('no',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>类型</span>
                            <nz-table-sort [(nzValue)]="sortMap_repair.type" (nzValueChange)="sort_repair_info('type',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>工时费用</span>
                            <nz-table-sort [(nzValue)]="sortMap_repair.time_cost" (nzValueChange)="sort_repair_info('time_cost',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>项目</span>
                            <nz-table-sort [(nzValue)]="sortMap_repair.items" (nzValueChange)="sort_repair_info('items',$event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>送修人</span>
                            <nz-table-sort [(nzValue)]="sortMap_repair.agent" (nzValueChange)="sort_repair_info('agent',$event)"></nz-table-sort>
                        </th>

                        

                        <!-- <th nz-th><span>操作</span></th> -->
                    </tr>
                </thead>
                <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let i of nzTable2.data">

                        <td nz-td>{{i.no}}</td>
                        <td nz-td>{{i.type}}</td>
                        <td nz-td>{{i.time_cost}}</td>
                        <td nz-td>{{i.items}}</td>
                        <td nz-td>{{i.agent}}</td>
                        <!-- <td nz-td>
                            <a (click)="update(i.id)">修改</a>
                            <span nz-table-divider></span>
                            <a (click)="remove(i)">删除</a>
                        </td> -->
                    </tr>
                </tbody>
            </nz-table>
        </nz-card>
    </div>
   
</div>
